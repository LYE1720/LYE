<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>æ›´å¤šå›æ†¶</title>
  <link rel="stylesheet" href="style.css"/>
</head>
<body>
  <canvas id="confetti"></canvas>

  <!-- åªä¿ç•™ä¸€å€‹ nav -->
  <nav class="topnav">
    <a class="brand" href="index.html">ğŸ‚ Happy Day</a>
    <div class="nav">
      <a href="index.html">é¦–é </a>
      <a href="more.html" aria-current="page">æ›´å¤šå›æ†¶</a>
    </div>
  </nav>

  <!-- åªä¿ç•™ä¸€å€‹ heroï¼ŒæŒ‰éˆ•æ”¾é€™è£¡ -->
  <header class="hero">
    <div class="hero-inner">
      <h1>æ›´å¤šå›æ†¶èˆ‡ç¥ç¦</h1>
      <p class="subtitle">
        ä»¥å‰ç¸½èªªç¢©å£«ç”Ÿè¦æŠŠå¯¦é©—å®¤ç•¶æˆç¬¬äºŒå€‹å®¶ <br>
        ä½†æ˜¯ç›´åˆ°ä»Šå¹´å¤å¤©é–‹å§‹ï¼Œæ‰è¦ºå¾—å¯¦é©—å®¤çœŸçš„åƒå®¶âœ¨ 
      </p>

      <div class="hero-actions">
        <button id="celebrateBtn" class="btn primary">æ’­æ”¾å½©å¸¶</button>
        <button class="btn" data-letter="tpl-more-1" data-title="å°è¨˜ #1">æ‰“é–‹å°è¨˜ #1</button>
        <button class="btn" data-letter="tpl-more-2" data-title="å°è¨˜ #2">æ‰“é–‹å°è¨˜ #2</button>
        <button class="btn" data-letter="tpl-more-3" data-title="å°è¨˜ #3">æ‰“é–‹å°è¨˜ #3</button>
      </div>
    </div>
  </header>


<body>
  <!-- ç‚ºäº†ç›¸å®¹ä½ ç¾æœ‰çš„ script.jsï¼ˆå½©å¸¶ç¨‹å¼ï¼‰ï¼Œé€™é ä¹Ÿæ”¾ä¸€å€‹ canvasï¼Œç„¡å®³ -->
  <canvas id="confetti"></canvas>
  <main class="container">

 <section class="card" id="polaroid-wall">
  <h2>æ‹ç«‹å¾—ç›¸ç‰‡ç‰†</h2>
  <ul class="polaroids">
    <li class="r1" data-id="p1">
      <figure>
        <img src="assets/bdpic2.jpg" alt="å›æ†¶ A">
        <figcaption>
          <div class="cap-row">
            <span class="title">å›æ†¶ A</span>
            <button class="btn tiny note-btn" data-id="p1">å¯«æ•˜è¿°</button>
          </div>
          <div class="note" id="note-p1">ï¼ˆé‚„æ²’æœ‰æ•˜è¿°ï¼‰</div>
        </figcaption>
      </figure>
    </li>

    <li class="r2" data-id="p2">
      <figure>
        <img src="assets/bdpic3.jpg" alt="å›æ†¶ B">
        <figcaption>
          <div class="cap-row">
            <span class="title">å›æ†¶ B</span>
            <button class="btn tiny note-btn" data-id="p2">å¯«æ•˜è¿°</button>
          </div>
          <div class="note" id="note-p2">ï¼ˆé‚„æ²’æœ‰æ•˜è¿°ï¼‰</div>
        </figcaption>
      </figure>
    </li>

    <li class="r3" data-id="p3">
      <figure>
        <img src="assets/bdpic4.jpg" alt="å›æ†¶ C">
        <figcaption>
          <div class="cap-row">
            <span class="title">å›æ†¶ C</span>
            <button class="btn tiny note-btn" data-id="p3">å¯«æ•˜è¿°</button>
          </div>
          <div class="note" id="note-p3">ï¼ˆé‚„æ²’æœ‰æ•˜è¿°ï¼‰</div>
        </figcaption>
      </figure>
    </li>
    <!-- éœ€è¦æ›´å¤šå°±è¤‡è£½ liï¼Œè¨˜å¾— data-idã€imgã€title éƒ½æ› -->
  </ul>
</section>

    <!-- 2) æ‹ç«‹å¾—ç›¸ç‰‡ç‰†ï¼ˆå¯ä»»æ„å¢æ¸›ï¼‰ -->
    <section class="card">
      <h2>æ‹ç«‹å¾—ç›¸ç‰‡ç‰†</h2>
      <ul class="polaroids">
        <li class="r1"><figure><img src="assets/bdpic2.jpg" alt="å›æ†¶ A"><figcaption>å›æ†¶ A</figcaption></figure></li>
        <li class="r2"><figure><img src="assets/bdpic3.jpg" alt="å›æ†¶ B"><figcaption>å›æ†¶ B</figcaption></figure></li>
        <li class="r3"><figure><img src="assets/bdpic4.jpg" alt="å›æ†¶ C"><figcaption>å›æ†¶ C</figcaption></figure></li>
        <!-- å¤šæ”¾å¹¾å¼µå°±è¤‡è£½ä¸Šé¢ liï¼Œæ›åœ–å³å¯ -->
      </ul>
      <p class="muted" style="margin-top:8px">æç¤ºï¼šæƒ³æ”¾æ›´å¤šå¼µï¼Œå°±åœ¨ <code>.polaroids</code> è£¡å¤šåŠ  <code>&lt;li&gt;</code>ã€‚</p>
    </section>

    <!-- 3) æˆ‘å€‘çš„å¾…è¾¦æ¸…å–®ï¼ˆæœƒå­˜åˆ°æœ¬æ©Ÿï¼‰ -->
    <section class="card">
      <h2>æˆ‘å€‘çš„å¾…è¾¦æ¸…å–®</h2>
      <ul class="todo" id="bucketList">
        <li><label><input type="checkbox" data-id="b1"> å»çœ‹ä¸€å ´æ¼”å”±æœƒ</label></li>
        <li><label><input type="checkbox" data-id="b2"> ä¸€èµ·åšä¸€æ¬¾ç”œé»</label></li>
        <li><label><input type="checkbox" data-id="b3"> å†å›åˆ°æœ€åˆè¦‹é¢çš„é‚£æ¢è¡—</label></li>
        <li><label><input type="checkbox" data-id="b4"> å¹«å½¼æ­¤é¸ä¸€ä»½å°ç¦®ç‰©</label></li>
      </ul>
      <p class="muted" style="margin-top:8px">æ‰“å‹¾æœƒè‡ªå‹•è¨˜ä½ï¼ˆåªå­˜é€™å°è£ç½®ï¼‰ã€‚</p>
    </section>

  </main>

  <footer class="footer"><p>Made with ğŸ’›</p></footer>

<!-- é€šç”¨æ•˜è¿°å°è©±æ¡† -->
<dialog id="noteDialog" class="letter">
  <form method="dialog">
    <h3 id="noteTitle">å¯«æ•˜è¿°</h3>
    <textarea id="noteTextarea" rows="6" placeholder="åœ¨é€™è£¡è¼¸å…¥é€™å¼µç…§ç‰‡çš„æ•˜è¿°â€¦"></textarea>
    <menu>
      <button class="btn" value="cancel">å–æ¶ˆ</button>
      <button class="btn primary" id="noteSave" type="button">å„²å­˜</button>
    </menu>
  </form>
</dialog>

<!-- é€šç”¨å°è©±æ¡†ï¼ˆåªæœ‰ä¸€å€‹ï¼‰ -->
<dialog id="letter" class="letter">
  <form method="dialog">
    <h3 id="dlgTitle">è¨Šæ¯</h3>
    <div id="dlgBody" class="dlg-body"></div>
    <menu><button class="btn primary">é—œé–‰</button></menu>
  </form>
</dialog>

<!-- å…§å®¹æ¨¡æ¿å€‘ï¼ˆæƒ³åŠ å¹¾æ®µå°±å¤šæ”¾å¹¾å€‹ <template>ï¼‰ -->
<template id="tpl-more-1">
  <p>é€™ä¸€æ®µå¯«ä½ æƒ³èªªçš„å°è¨˜ #1ï¼Œå¯ä»¥ç”¨<br>æ›è¡Œï¼Œä¹Ÿèƒ½æ”¾<strong>ç²—é«”</strong>æˆ–å°è¡¨æƒ… âœ¨</p>
</template>

<template id="tpl-more-2">
  <p>å°è¨˜ #2ï¼šæŠŠæŸå€‹å›æ†¶å¯«ä¸‹ä¾†ï¼Œåƒæ˜¯æŸæ¬¡å¥½ç¬‘çš„çƒé¾ã€æŸå¥ä½ å¾ˆå–œæ­¡çš„è©±ã€‚</p>
</template>

<template id="tpl-more-3">
  <p>å°è¨˜ #3ï¼šæ”¾å€‹ç¥ç¦ã€æ‰¿è«¾æˆ–ä¸‹ä¸€å€‹å°ç›®æ¨™ã€‚</p>
</template>

  
<script src="script.js"></script>
  <!-- é€™é å°ˆç”¨çš„å°è…³æœ¬ï¼ˆä¸å‹•ä½ çš„ script.jsï¼‰ -->
  <script>
    // å¾…è¾¦æ¸…å–®ï¼šæŠŠå‹¾é¸ç‹€æ…‹å­˜åˆ° localStorage
    (function(){
      const key = "bucket-v1";
      const wrap = document.getElementById("bucketList");
      if(!wrap) return;
      const saved = JSON.parse(localStorage.getItem(key) || "{}");
      wrap.querySelectorAll('input[type="checkbox"]').forEach(box=>{
        const id = box.dataset.id;
        if (saved[id]) box.checked = true;
        box.addEventListener("change", ()=>{
          saved[id] = box.checked;
          localStorage.setItem(key, JSON.stringify(saved));
        });
      });
    })();
  </script>
</body>
</html>
<script>
(function(){
  const KEY = "photo-note-";
  const dlg = document.getElementById("noteDialog");
  const titleEl = document.getElementById("noteTitle");
  const ta = document.getElementById("noteTextarea");
  const saveBtn = document.getElementById("noteSave");
  let currentId = null;

  // è®€å¯«æœ¬æ©Ÿ
  const load = id => localStorage.getItem(KEY+id) || "";
  const save = (id, text) => localStorage.setItem(KEY+id, text||"");

  // åˆå§‹åŒ–æŠŠæœ¬æ©Ÿæ•˜è¿°é¡¯ç¤ºåˆ°æ¯å¼µå¡ç‰‡
  document.querySelectorAll(".polaroids [data-id]").forEach(item=>{
    const id = item.dataset.id;
    const el = document.getElementById("note-"+id);
    if (el) el.textContent = load(id) || "ï¼ˆé‚„æ²’æœ‰æ•˜è¿°ï¼‰";
  });

  // é»ã€Œå¯«æ•˜è¿°ã€é–‹å•Ÿå°è©±æ¡†
  document.addEventListener("click", (e)=>{
    const btn = e.target.closest(".note-btn");
    if (!btn) return;
    currentId = btn.dataset.id;
    const title = btn.closest("figure")?.querySelector(".title")?.textContent || "å¯«æ•˜è¿°";
    titleEl.textContent = `å¯«æ•˜è¿° - ${title}`;
    ta.value = load(currentId);
    dlg.showModal();
  });

  // å­˜æª”
  saveBtn.addEventListener("click", ()=>{
    if (!currentId) return;
    const text = ta.value.trim();
    save(currentId, text);
    const target = document.getElementById("note-"+currentId);
    if (target) target.textContent = text || "ï¼ˆé‚„æ²’æœ‰æ•˜è¿°ï¼‰";
    dlg.close();
  });
})();
</script>


<script>
  // é»ä»»ä¸€å« data-letter çš„æŒ‰éˆ• â†’ é–‹é€šç”¨å°è©±æ¡†ï¼Œè¼‰å…¥å°æ‡‰æ¨¡æ¿
  (function(){
    const dlg   = document.getElementById("letter");
    const title = document.getElementById("dlgTitle");
    const body  = document.getElementById("dlgBody");
    if(!dlg || !title || !body) return;

    document.addEventListener("click", (e)=>{
      const btn = e.target.closest("[data-letter]");
      if(!btn) return;
      const tpl = document.getElementById(btn.dataset.letter);
      if(!tpl) return alert("æ‰¾ä¸åˆ°å…§å®¹æ¨¡æ¿ï¼š" + btn.dataset.letter);
      title.textContent = btn.dataset.title || "è¨Šæ¯";
      body.innerHTML = tpl.innerHTML;
      dlg.showModal();
    });
  })();
</script>
